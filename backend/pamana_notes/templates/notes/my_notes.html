{% extends "base.html" %}

{% block content %}
<h2 class="text-xl font-semibold mb-4">My Notes</h2>

{% for note in notes %}
<div class="border p-4 rounded mb-4">

    <h3 class="font-semibold text-lg">{{ note.title }}</h3>

    <p class="text-sm text-gray-500">
        Uploaded on {{ note.uploaded_at|date:"M d, Y" }}
    </p>

    <!-- Status -->
        <div class="mt-2">
            {% include "notes/partials/status_badge_owner.html" with note=note %}
        </div>



    <!-- Rejection reason -->
    {% if note.is_rejected and note.rejection_reason %}
    <div class="text-sm text-red-600 mt-2">
        <strong>Reason:</strong> {{ note.rejection_reason }}
    </div>
    {% endif %}

    <!-- Actions -->
    <div class="mt-3 flex gap-3 text-sm">
        <a href="{% url 'notes:note_detail' note.pk %}" class="text-blue-600">
            View
        </a>

        {% if note.is_rejected %}
            <a href="{% url 'notes:note_update' note.pk %}" class="text-orange-600">
                Edit &amp; Resubmit
            </a>
        {% endif %}
    </div>

</div>
{% empty %}
<p class="text-gray-500">You havenâ€™t uploaded any notes yet.</p>
{% endfor %}

{% endblock %}
